{"version":3,"file":"content-script/quick_send_media/quick_send_media.bundle.js","mappings":"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","sources":["webpack://media-downloader/./src/types/message-event-name.enum.ts","webpack://media-downloader/./src/utils/dom-functions.ts","webpack://media-downloader/./src/content-script/regex-pattern.ts","webpack://media-downloader/./src/content-script/filters-fn.ts","webpack://media-downloader/./src/content-script/mappers-fn.ts","webpack://media-downloader/./src/content-script/extractors-fn.ts","webpack://media-downloader/./src/content-script/quick_send_media/quick_send_media.ts","webpack://media-downloader/./src/content-script/quick_send_media/quick-send-media-mappers-fn.ts","webpack://media-downloader/./src/utils/chrome-api.ts"],"sourcesContent":["export var MessageEventNameEnum;\n(function (MessageEventNameEnum) {\n    MessageEventNameEnum[\"TAB_CREATED\"] = \"tabCreated\";\n    MessageEventNameEnum[\"TAB_REPLACED\"] = \"tabReplaced\";\n    MessageEventNameEnum[\"TAB_UPDATED\"] = \"tabUpdated\";\n    MessageEventNameEnum[\"TAB_ACTIVATED\"] = \"tabActivated\";\n    MessageEventNameEnum[\"SEND_MEDIA\"] = \"sendMedia\";\n    MessageEventNameEnum[\"QUICK_SEND_MEDIA_FOR_DOWNLOAD\"] = \"quickSendMediaForDownload\";\n    MessageEventNameEnum[\"GET_TAB_INFO\"] = \"getTabInfo\";\n    MessageEventNameEnum[\"THEME_CHANGED\"] = \"themeChanged\";\n})(MessageEventNameEnum || (MessageEventNameEnum = {}));\n","export function setDisabled(selector, value) {\n    q(selector).disabled = value;\n}\nexport function toggleClass(selector, className, toggleValue = null) {\n    let elements = [];\n    if (typeof selector === 'string') {\n        elements = qAll(selector);\n    }\n    else if (Array.isArray(selector)) {\n        elements = [...selector];\n    }\n    else {\n        elements = [selector];\n    }\n    if (!elements.length) {\n        return;\n    }\n    if (toggleValue === null) {\n        [...elements].forEach(element => {\n            if (element.classList.contains(className)) {\n                element.classList.remove(className);\n            }\n            else {\n                element.classList.add(className);\n            }\n        });\n    }\n    else {\n        if (toggleValue) {\n            [...elements].forEach(element => element.classList.add(className));\n        }\n        else {\n            [...elements].forEach(element => element.classList.remove(className));\n        }\n    }\n}\nexport function hasClass(selector, className) {\n    let element;\n    if (typeof selector === 'string') {\n        element = q(selector);\n    }\n    else {\n        element = selector;\n    }\n    if (!element) {\n        return false;\n    }\n    return element.classList.contains(className);\n}\nexport function createElement(tagName, props = {}, children = []) {\n    const element = document.createElement(tagName);\n    if (props.class) {\n        if (typeof props.class === 'string') {\n            element.classList.add(props.class);\n        }\n        else {\n            element.classList.add(...props.class);\n        }\n    }\n    if (props.html) {\n        element.innerHTML = props.html || '';\n    }\n    if (props.attributes) {\n        for (const [attr, value] of Object.entries(props.attributes)) {\n            element.setAttribute(attr, value);\n        }\n    }\n    if (props.data) {\n        for (const [attr, value] of Object.entries(props.data)) {\n            element.setAttribute(`data-${attr}`, value);\n        }\n    }\n    if (props.type) {\n        element.type = props.type;\n    }\n    if (props.title) {\n        element.title = props.title;\n    }\n    if (props.alt) {\n        element.alt = props.alt;\n    }\n    if (props.src) {\n        element.src = props.src;\n    }\n    if (props.href) {\n        element.href = props.href;\n    }\n    if (children) {\n        if (!Array.isArray(children) && children instanceof HTMLElement) {\n            children = [children];\n        }\n        element.append(...children);\n    }\n    return element;\n}\nexport function createDivElement(props = {}, children = []) {\n    return createElement('div', props, children);\n}\nexport function createSpanElement(props = {}, children = []) {\n    return createElement('span', props, children);\n}\nexport function createButtonElement(props = {}, children = []) {\n    props.type = 'button';\n    return createElement('button', props, children);\n}\nexport function createImgElement(props = {}) {\n    return createElement('img', props);\n}\nexport function createIconElement(name, size = 24) {\n    return createSpanElement({\n        html: name,\n        class: 'x-icon',\n        attributes: {\n            size,\n        },\n    });\n}\nexport function show(selector) {\n    const el = typeof selector === 'string'\n        ? q(selector)\n        : selector;\n    if (el) {\n        el.hidden = false;\n    }\n}\nexport function hide(selector) {\n    const el = typeof selector === 'string'\n        ? q(selector)\n        : selector;\n    if (el) {\n        el.hidden = true;\n    }\n}\nexport function qAll(selector) {\n    const data = [];\n    const els = document.querySelectorAll(selector);\n    els.forEach((el) => data.push(el));\n    return els;\n}\nexport function q(selector) {\n    return document.querySelector(selector);\n}\nexport function getInputValue(id) {\n    const elements = document.getElementsByName(id);\n    if (!elements.length) {\n        return;\n    }\n    const element = elements.item(0);\n    if (!element) {\n        return;\n    }\n    if (!element) {\n        return null;\n    }\n    if (element.getAttribute('type') === 'radio') {\n        const radioElement = q(`input[name=\"${id}\"]:checked`);\n        return radioElement.value;\n    }\n    if (element.getAttribute('type') === 'checkbox') {\n        return element.checked;\n    }\n    return element.value;\n}\nexport function setInputValue(id, value) {\n    const elements = document.getElementsByName(id);\n    if (!elements.length) {\n        return;\n    }\n    const element = elements.item(0);\n    if (!element) {\n        return;\n    }\n    if (element.getAttribute('type') === 'radio') {\n        const radioElement = q(`input[name=\"${id}\"][value=\"${value}\"]`);\n        radioElement.checked = true;\n        return;\n    }\n    if (element.getAttribute('type') === 'checkbox') {\n        element.checked = value;\n        return;\n    }\n    element.value = value;\n}\n","export const imageRegex = /(?:([^:\\/?#]+):)?(?:\\/\\/([^\\/?#]*))?([^?#]*\\.(?:bmp|gif|jpe?g|png|svg|webp))(?:\\?([^#]*))?(?:#(.*))?/i;\nexport const videoRegex = /(?:([^:\\/?#]+):)?(?:\\/\\/([^\\/?#]*))?([^?#]*\\.(?:mkv|flv|ogg|ogv|gifv|avi|mov|wmv|rm|rmvb|mp4|m4p|m4v|mpg|mpeg|3gp|3g2|webm))(?:\\?([^#]*))?(?:#(.*))?/i;\nexport const audioRegex = /(?:([^:\\/?#]+):)?(?:\\/\\/([^\\/?#]*))?([^?#]*\\.(?:mp3|flac|ogg|wma))(?:\\?([^#]*))?(?:#(.*))?/i;\n","import { audioRegex, imageRegex, videoRegex } from './regex-pattern';\nexport function isNotYouTubeLink({ src }) {\n    return !src.includes('https://www.youtube.com')\n        && !src.includes('https://www.youtu.be')\n        && !src.includes('https://youtube.com')\n        && !src.includes('https://youtu.be');\n}\nexport function isNotEmpty({ src }) {\n    return !!src;\n}\nexport function isImageURL(url) {\n    return url.startsWith('data:image') || imageRegex.test(url);\n}\nexport function isVideoURL(url) {\n    return url.startsWith('data:video') || videoRegex.test(url);\n}\nexport function isAudioURL(url) {\n    return url.startsWith('data:audio') || audioRegex.test(url);\n}\nexport function removeDuplicateOrEmpty(data) {\n    let result = [...new Map(data.map((item) => [item.src, item])).values()];\n    result = result.filter(({ src }) => !!src);\n    return result;\n}\n","export function relativeUrlToAbsolute(url) {\n    if (url === null) {\n        return null;\n    }\n    return url.startsWith('/') ? `${window.location.origin}${url}` : url;\n}\nexport function mapToFullInfo(src = '', poster = null) {\n    return { src, poster };\n}\n","import { qAll } from '../utils/dom-functions';\nimport { isAudioURL, isImageURL, isNotEmpty, isNotYouTubeLink, isVideoURL } from './filters-fn';\nimport { mapToFullInfo } from './mappers-fn';\nfunction extractImageFromElement(element) {\n    if (element.tagName.toLowerCase() === 'img') {\n        const src = getSrcFromElement(element);\n        return mapToFullInfo(src);\n    }\n    if (element.tagName.toLowerCase() === 'a') {\n        const href = element.href;\n        if (isImageURL(href)) {\n            return mapToFullInfo(href);\n        }\n    }\n    const backgroundImage = window.getComputedStyle(element).backgroundImage;\n    if (backgroundImage) {\n        const parsedURL = extractURLFromStyle(backgroundImage);\n        if (isImageURL(parsedURL)) {\n            return mapToFullInfo(parsedURL);\n        }\n    }\n    return mapToFullInfo();\n}\nfunction extractVideoFromElement(element) {\n    if (element.tagName.toLowerCase() === 'video') {\n        const sourceElement = element.querySelector('source');\n        const src = sourceElement\n            ? getSrcFromElement(sourceElement)\n            : getSrcFromElement(element);\n        return mapToFullInfo(src, getPosterFromVideoElement(element));\n    }\n    if (element.tagName.toLowerCase() === 'a') {\n        const href = element.href;\n        if (isVideoURL(href)) {\n            return mapToFullInfo(href, null);\n        }\n    }\n    return mapToFullInfo('', null);\n}\nfunction extractAudioFromElement(element) {\n    if (element.tagName.toLowerCase() === 'audio') {\n        const sourceElement = element.querySelector('source');\n        const src = sourceElement\n            ? getSrcFromElement(sourceElement)\n            : getSrcFromElement(element);\n        return mapToFullInfo(src);\n    }\n    if (element.tagName.toLowerCase() === 'a') {\n        const href = element.href;\n        if (isAudioURL(href)) {\n            return mapToFullInfo(href);\n        }\n    }\n    return mapToFullInfo();\n}\nfunction extractURLFromStyle(url) {\n    return url.replace(/^url\\([\"']?/, '').replace(/[\"']?\\)$/, '');\n}\nfunction getSrcFromElement(element) {\n    let src = element.getAttribute('src') || '';\n    const hashIndex = src === null || src === void 0 ? void 0 : src.indexOf('#');\n    if (hashIndex >= 0) {\n        src = src.substring(0, hashIndex + 1);\n    }\n    return src;\n}\nfunction getPosterFromVideoElement(element) {\n    let poster = element.getAttribute('poster')\n        || element.getAttribute('data-poster')\n        || '';\n    const hashIndex = poster === null || poster === void 0 ? void 0 : poster.indexOf('#');\n    if (hashIndex >= 0) {\n        poster = poster.substring(0, hashIndex + 1);\n    }\n    return poster;\n}\nexport function extractDataFromTags(selectors, mapFn) {\n    const elements = [...qAll(selectors)];\n    return elements.map(mapFn)\n        .filter(isNotEmpty)\n        .filter(isNotYouTubeLink);\n}\nexport function extractImagesFromTags() {\n    return extractDataFromTags('img, a, [style]', extractImageFromElement);\n}\nexport function extractVideosFromTags() {\n    return extractDataFromTags('video, a', extractVideoFromElement);\n}\nexport function extractAudiosFromTags() {\n    return extractDataFromTags('audio, a', extractAudioFromElement);\n}\nexport function extractImagesFromStyles() {\n    return Array.from(document.styleSheets)\n        .filter(styleSheet => styleSheet.hasOwnProperty('cssRules'))\n        .map(({ cssRules }) => Array.from(cssRules))\n        .flat()\n        .filter((cssRule) => cssRule.style && cssRule.style.backgroundImage)\n        .map((cssRule) => extractURLFromStyle(cssRule.style.backgroundImage))\n        .filter((url) => !!url)\n        .filter((url) => isImageURL(url))\n        .map((url) => mapToFullInfo(url));\n}\n","import { MessageEventNameEnum } from '../../types/message-event-name.enum';\nimport { sendMessage } from '../../utils/chrome-api';\nimport { extractAudiosFromTags, extractImagesFromStyles, extractImagesFromTags, extractVideosFromTags, } from '../extractors-fn';\nimport { mapToFinalQuickResultArray } from './quick-send-media-mappers-fn';\n(() => {\n    function gatherMedia() {\n        let error = null;\n        let media = [];\n        try {\n            const imagesFromTags = extractImagesFromTags();\n            const imagesFromStyles = extractImagesFromStyles();\n            const videosFromTags = extractVideosFromTags();\n            const audiosFromTags = extractAudiosFromTags();\n            media = mapToFinalQuickResultArray([\n                ...imagesFromTags,\n                ...imagesFromStyles,\n                ...videosFromTags,\n                ...audiosFromTags,\n            ]);\n        }\n        catch (err) {\n            console.log({ err });\n            error = Object.assign({}, err);\n        }\n        sendMessage(MessageEventNameEnum.QUICK_SEND_MEDIA_FOR_DOWNLOAD, {\n            error,\n            media,\n        });\n    }\n    gatherMedia();\n})();\n","import { removeDuplicateOrEmpty } from '../filters-fn';\nimport { relativeUrlToAbsolute } from '../mappers-fn';\nexport function mapToFinalQuickResultArray(data) {\n    return removeDuplicateOrEmpty(data.map(item => ({\n        src: relativeUrlToAbsolute(item.src) || '',\n    })));\n}\n","var __awaiter = (this && this.__awaiter) || function (thisArg, _arguments, P, generator) {\n    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }\n    return new (P || (P = Promise))(function (resolve, reject) {\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\n        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\n    });\n};\nexport function executeContentScript(scriptUrl_1) {\n    return __awaiter(this, arguments, void 0, function* (scriptUrl, tabId = null) {\n        if (!tabId) {\n            const tab = yield getCurrentTab();\n            if (!tab || !tab.id) {\n                return;\n            }\n            if (tab.id <= 0) {\n                return;\n            }\n            tabId = tab.id;\n        }\n        yield chrome.scripting.executeScript({\n            target: { tabId, allFrames: true },\n            files: [scriptUrl],\n        });\n    });\n}\nexport function getCurrentTab() {\n    return __awaiter(this, void 0, void 0, function* () {\n        var _a, _b;\n        try {\n            let queryOptions = { active: true, lastFocusedWindow: true };\n            let [tab] = yield chrome.tabs.query(queryOptions);\n            if (!(tab === null || tab === void 0 ? void 0 : tab.url) || ((_a = tab === null || tab === void 0 ? void 0 : tab.url) === null || _a === void 0 ? void 0 : _a.startsWith('chrome://')) || ((_b = tab === null || tab === void 0 ? void 0 : tab.url) === null || _b === void 0 ? void 0 : _b.startsWith('https://chromewebstore.google.com'))) {\n                return null;\n            }\n            return tab;\n        }\n        catch (_c) {\n            return null;\n        }\n    });\n}\nexport function getTab(tabId) {\n    return __awaiter(this, void 0, void 0, function* () {\n        var _a, _b;\n        try {\n            const tab = yield chrome.tabs.get(tabId);\n            if (chrome.runtime.lastError) {\n                console.error('Error get tab by ID:', chrome.runtime.lastError);\n                return null;\n            }\n            if (!(tab === null || tab === void 0 ? void 0 : tab.url) || ((_a = tab === null || tab === void 0 ? void 0 : tab.url) === null || _a === void 0 ? void 0 : _a.startsWith('chrome://')) || ((_b = tab === null || tab === void 0 ? void 0 : tab.url) === null || _b === void 0 ? void 0 : _b.startsWith('https://chromewebstore.google.com'))) {\n                return null;\n            }\n            return tab;\n        }\n        catch (_c) {\n            return null;\n        }\n    });\n}\nexport function downloadUrl(url) {\n    const downloadOptions = { url };\n    chrome.downloads.download(downloadOptions);\n}\nexport function getStorageValue(obj, callback) {\n    chrome.storage.sync.get(obj, callback);\n}\nexport function setStorageValue(obj, callback) {\n    if (callback) {\n        chrome.storage.sync.set(obj, callback);\n    }\n    else {\n        chrome.storage.sync.set(obj);\n    }\n}\nexport function sendMessage(eventName, data = null, callback) {\n    const cb = (res) => {\n        if (chrome.runtime.lastError) {\n            // console.error('Error send msg:', chrome.runtime.lastError);\n            return null;\n        }\n        if (!callback) {\n            callback = (response) => {\n            };\n        }\n        callback(res);\n    };\n    try {\n        chrome.runtime.sendMessage({ eventName, data }, cb);\n    }\n    catch (_a) {\n        // do nothing\n    }\n}\nexport function onMessage(callback) {\n    chrome.runtime.onMessage.addListener(callback);\n}\nexport function createTab(details) {\n    chrome.tabs.create(details);\n}\nexport function setPopupOptions(options) {\n    chrome.action.setPopup(options);\n}\nexport function setSidePanelOptions(options) {\n    chrome.sidePanel.setOptions(options);\n}\nexport function setSidePanelBehavior(options) {\n    chrome.sidePanel.setPanelBehavior(options).catch((error) => console.log(error));\n}\nexport function contextMenuClicked(callback) {\n    chrome.contextMenus.onClicked.addListener((info, tab) => {\n        if (!tab) {\n            return;\n        }\n        callback(info, tab);\n    });\n}\nexport function onInstalled(callback) {\n    chrome.runtime.onInstalled.addListener(callback);\n}\nexport function createContextMenu(properties) {\n    chrome.contextMenus.create(properties);\n}\nexport function onCreateTab(callback) {\n    chrome.tabs.onCreated.addListener(callback);\n}\nexport function onReplaceTab(callback) {\n    chrome.tabs.onReplaced.addListener(callback);\n}\nexport function onActivateTab(callback) {\n    chrome.tabs.onActivated.addListener(callback);\n}\nexport function onUpdateTab(callback) {\n    chrome.tabs.onUpdated.addListener(callback);\n}\nexport function onClickExtensionIcon(callback) {\n    chrome.action.onClicked.addListener(callback);\n}\nexport function openPopup(options) {\n    chrome.action.openPopup(options);\n}\nexport function openSidePanel(options) {\n    chrome.sidePanel.open(options);\n}\nexport function getVersion() {\n    return chrome.runtime.getManifest().version;\n}\n"],"names":["MessageEventNameEnum","qAll","selector","data","els","document","querySelectorAll","forEach","el","push","imageRegex","videoRegex","audioRegex","isNotYouTubeLink","src","includes","isNotEmpty","isImageURL","url","startsWith","test","mapToFullInfo","poster","extractImageFromElement","element","tagName","toLowerCase","getSrcFromElement","href","backgroundImage","window","getComputedStyle","parsedURL","extractURLFromStyle","extractVideoFromElement","querySelector","getAttribute","hashIndex","indexOf","substring","getPosterFromVideoElement","extractAudioFromElement","replace","extractDataFromTags","selectors","mapFn","map","filter","error","media","imagesFromTags","imagesFromStyles","Array","from","styleSheets","styleSheet","hasOwnProperty","cssRules","flat","cssRule","style","videosFromTags","audiosFromTags","result","Map","item","values","removeDuplicateOrEmpty","location","origin","err","console","log","Object","assign","eventName","callback","cb","res","chrome","runtime","lastError","response","sendMessage","_a","QUICK_SEND_MEDIA_FOR_DOWNLOAD","gatherMedia"],"sourceRoot":""}