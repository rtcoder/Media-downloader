{"version":3,"file":"downloader/main.bundle.js","mappings":"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","sources":["webpack://media-downloader/./src/utils/chrome-api.ts","webpack://media-downloader/./src/utils/dom-functions.ts","webpack://media-downloader/./src/utils/crc32.ts","webpack://media-downloader/./src/downloader/accordion.ts","webpack://media-downloader/./src/utils/utils.ts","webpack://media-downloader/./src/media-display.ts","webpack://media-downloader/./src/media-in-tabs.ts","webpack://media-downloader/./src/tab-expanded.ts","webpack://media-downloader/./src/utils/download-functions.ts","webpack://media-downloader/./src/downloader/media-types.ts","webpack://media-downloader/./src/downloader/dom-listeners.ts","webpack://media-downloader/./src/downloader/find-media.ts","webpack://media-downloader/./src/types/message-event-name.enum.ts","webpack://media-downloader/./src/utils/yt-restriction.ts","webpack://media-downloader/./src/downloader/message-listeners.ts","webpack://media-downloader/./src/downloader/main.ts"],"sourcesContent":["var __awaiter = (this && this.__awaiter) || function (thisArg, _arguments, P, generator) {\n    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }\n    return new (P || (P = Promise))(function (resolve, reject) {\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\n        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\n    });\n};\nexport function executeContentScript(scriptUrl_1) {\n    return __awaiter(this, arguments, void 0, function* (scriptUrl, tabId = null) {\n        if (!tabId) {\n            const tab = yield getCurrentTab();\n            if (!tab || !tab.id) {\n                return;\n            }\n            if (tab.id <= 0) {\n                return;\n            }\n            tabId = tab.id;\n        }\n        yield chrome.scripting.executeScript({\n            target: { tabId, allFrames: true },\n            files: [scriptUrl],\n        });\n    });\n}\nexport function getCurrentTab() {\n    return __awaiter(this, void 0, void 0, function* () {\n        var _a, _b;\n        try {\n            let queryOptions = { active: true, lastFocusedWindow: true };\n            let [tab] = yield chrome.tabs.query(queryOptions);\n            console.log('current tabUrl: ', tab === null || tab === void 0 ? void 0 : tab.url, tab);\n            if (!(tab === null || tab === void 0 ? void 0 : tab.url) || ((_a = tab === null || tab === void 0 ? void 0 : tab.url) === null || _a === void 0 ? void 0 : _a.startsWith('chrome://')) || ((_b = tab === null || tab === void 0 ? void 0 : tab.url) === null || _b === void 0 ? void 0 : _b.startsWith('https://chromewebstore.google.com'))) {\n                return null;\n            }\n            return tab;\n        }\n        catch (_c) {\n            return null;\n        }\n    });\n}\nexport function getTab(tabId) {\n    return __awaiter(this, void 0, void 0, function* () {\n        var _a, _b;\n        try {\n            const tab = yield chrome.tabs.get(tabId);\n            if (chrome.runtime.lastError) {\n                console.error('Error get tab by ID:', chrome.runtime.lastError);\n                return null;\n            }\n            console.log('tabUrl: ', tab === null || tab === void 0 ? void 0 : tab.url);\n            if (!(tab === null || tab === void 0 ? void 0 : tab.url) || ((_a = tab === null || tab === void 0 ? void 0 : tab.url) === null || _a === void 0 ? void 0 : _a.startsWith('chrome://')) || ((_b = tab === null || tab === void 0 ? void 0 : tab.url) === null || _b === void 0 ? void 0 : _b.startsWith('https://chromewebstore.google.com'))) {\n                return null;\n            }\n            return tab;\n        }\n        catch (_c) {\n            return null;\n        }\n    });\n}\nexport function downloadUrl(url, filename = null) {\n    const downloadOptions = { url };\n    if (filename) {\n        downloadOptions.filename = filename;\n    }\n    chrome.downloads.download(downloadOptions);\n}\nexport function getStorageValue(obj, callback) {\n    chrome.storage.sync.get(obj, callback);\n}\nexport function setStorageValue(obj, callback) {\n    if (callback) {\n        chrome.storage.sync.set(obj, callback);\n    }\n    else {\n        chrome.storage.sync.set(obj);\n    }\n}\nexport function sendMessage(eventName, data) {\n    try {\n        chrome.runtime.sendMessage({ eventName, data }, (response) => {\n        });\n    }\n    catch (_a) {\n        // do nothing\n    }\n}\nexport function onMessage(callback) {\n    chrome.runtime.onMessage.addListener(callback);\n}\nexport function createTab(details) {\n    chrome.tabs.create(details);\n}\nexport function setPopupOptions(options) {\n    chrome.action.setPopup(options);\n}\nexport function setSidePanelOptions(options) {\n    chrome.sidePanel.setOptions(options);\n}\nexport function setSidePanelBehavior(options) {\n    chrome.sidePanel.setPanelBehavior(options).catch((error) => console.log(error));\n}\nexport function contextMenuClicked(callback) {\n    chrome.contextMenus.onClicked.addListener((info, tab) => {\n        if (!tab) {\n            return;\n        }\n        callback(info, tab);\n    });\n}\nexport function onInstalled(callback) {\n    chrome.runtime.onInstalled.addListener(callback);\n}\nexport function createContextMenu(properties) {\n    chrome.contextMenus.create(properties);\n}\nexport function onCreateTab(callback) {\n    chrome.tabs.onCreated.addListener(callback);\n}\nexport function onReplaceTab(callback) {\n    chrome.tabs.onReplaced.addListener(callback);\n}\nexport function onActivateTab(callback) {\n    chrome.tabs.onActivated.addListener(callback);\n}\nexport function onUpdateTab(callback) {\n    chrome.tabs.onUpdated.addListener(callback);\n}\nexport function onClickExtensionIcon(callback) {\n    chrome.action.onClicked.addListener(callback);\n}\nexport function openPopup(options) {\n    chrome.action.openPopup(options);\n}\nexport function openSidePanel(options) {\n    chrome.sidePanel.open(options);\n}\nexport function getVersion() {\n    return chrome.runtime.getManifest().version;\n}\n","export function setDisabled(selector, value) {\n    q(selector).disabled = value;\n}\nexport function toggleClass(selector, className, toggleValue = null) {\n    let elements = [];\n    if (typeof selector === 'string') {\n        elements = qAll(selector);\n    }\n    else if (Array.isArray(selector)) {\n        elements = [...selector];\n    }\n    else {\n        elements = [selector];\n    }\n    if (!elements.length) {\n        return;\n    }\n    if (toggleValue === null) {\n        [...elements].forEach(element => {\n            if (element.classList.contains(className)) {\n                element.classList.remove(className);\n            }\n            else {\n                element.classList.add(className);\n            }\n        });\n    }\n    else {\n        if (toggleValue) {\n            [...elements].forEach(element => element.classList.add(className));\n        }\n        else {\n            [...elements].forEach(element => element.classList.remove(className));\n        }\n    }\n}\nexport function hasClass(selector, className) {\n    let element;\n    if (typeof selector === 'string') {\n        element = q(selector);\n    }\n    else {\n        element = selector;\n    }\n    if (!element) {\n        return false;\n    }\n    return element.classList.contains(className);\n}\n/**\n * @typedef {Object} Props\n * @property {string|string[]} [class] - A string or an array of strings representing the class(es) to be added to the element.\n * @property {string} [html] - The HTML content to be set as the innerHTML of the element.\n * @property {{[key: string]: string|number}} [attributes] - An object representing additional attributes to set on the element.\n * @property {{[key: string]: string|number}} [data] - An object representing additional data attributes to set on the element.\n * @property {string} [type] - The type attribute to be set on the element (useful for elements like `input`).\n * @property {string} [title] - The title attribute to be set on the element.\n * @property {string} [alt] - The alt attribute to be set on the element.\n * @property {string} [src] - The src attribute to be set on the element.\n */\n/**\n * Creates a new DOM element with the specified tag name and properties.\n *\n * @param {keyof HTMLElementTagNameMap} tagName - The name of the tag for the element to be created (e.g., 'div', 'span').\n * @param {Props} [props] - An object containing properties to set on the element.\n * @param {Children} [children] - Children nodes to be appended to the created element.\n * @returns {HTMLElement} The newly created DOM element.\n */\nexport function createElement(tagName, props = {}, children = []) {\n    const element = document.createElement(tagName);\n    if (props.class) {\n        if (typeof props.class === 'string') {\n            element.classList.add(props.class);\n        }\n        else {\n            element.classList.add(...props.class);\n        }\n    }\n    if (props.html) {\n        element.innerHTML = props.html || '';\n    }\n    if (props.attributes) {\n        for (const [attr, value] of Object.entries(props.attributes)) {\n            element.setAttribute(attr, value);\n        }\n    }\n    if (props.data) {\n        for (const [attr, value] of Object.entries(props.data)) {\n            element.setAttribute(`data-${attr}`, value);\n        }\n    }\n    if (props.type) {\n        element.type = props.type;\n    }\n    if (props.title) {\n        element.title = props.title;\n    }\n    if (props.alt) {\n        element.alt = props.alt;\n    }\n    if (props.src) {\n        element.src = props.src;\n    }\n    if (children) {\n        if (!Array.isArray(children) && children instanceof HTMLElement) {\n            children = [children];\n        }\n        element.append(...children);\n    }\n    return element;\n}\n/**\n * Creates a new DOM element with the specified tag name and properties.\n *\n * @param {Props} [props] - An object containing properties to set on the element.\n * @param {Children} [children] - Children nodes to be appended to the created element.\n * @returns {HTMLDivElement} The newly created DOM element.\n */\nexport function createDivElement(props = {}, children = []) {\n    return createElement('div', props, children);\n}\n/**\n * Creates a new DOM element with the specified tag name and properties.\n *\n * @param {Props} [props] - An object containing properties to set on the element.\n * @param {Children} [children] - Children nodes to be appended to the created element.\n * @returns {HTMLSpanElement} The newly created DOM element.\n */\nexport function createSpanElement(props = {}, children = []) {\n    return createElement('span', props, children);\n}\n/**\n * Creates a new DOM element with the specified tag name and properties.\n *\n * @param {Props} [props] - An object containing properties to set on the element.\n * @param {Children} [children] - Children nodes to be appended to the created element.\n * @returns {HTMLButtonElement} The newly created DOM element.\n */\nexport function createButtonElement(props = {}, children = []) {\n    props.type = 'button';\n    return createElement('button', props, children);\n}\n/**\n * Creates a new DOM element with the specified tag name and properties.\n *\n * @param {Props} [props] - An object containing properties to set on the element.\n * @returns {HTMLImageElement} The newly created DOM element.\n */\nexport function createImgElement(props = {}) {\n    return createElement('img', props);\n}\nexport function createIconElement(name, size = 24) {\n    return createSpanElement({\n        html: name,\n        class: 'x-icon',\n        attributes: {\n            size,\n        },\n    });\n}\nexport function show(selector) {\n    const el = typeof selector === 'string'\n        ? q(selector)\n        : selector;\n    if (el) {\n        el.hidden = false;\n    }\n}\nexport function hide(selector) {\n    const el = typeof selector === 'string'\n        ? q(selector)\n        : selector;\n    if (el) {\n        el.hidden = true;\n    }\n}\nexport function qAll(selector) {\n    const data = [];\n    const els = document.querySelectorAll(selector);\n    els.forEach((el) => data.push(el));\n    return els;\n}\nexport function q(selector) {\n    return document.querySelector(selector);\n}\nexport function getInputValue(id) {\n    const elements = document.getElementsByName(id);\n    if (!elements.length) {\n        return;\n    }\n    const element = elements.item(0);\n    if (!element) {\n        return;\n    }\n    if (!element) {\n        return null;\n    }\n    if (element.getAttribute('type') === 'radio') {\n        const radioElement = q(`input[name=\"${id}\"]:checked`);\n        return radioElement.value;\n    }\n    if (element.getAttribute('type') === 'checkbox') {\n        return element.checked;\n    }\n    return element.value;\n}\nexport function setInputValue(id, value) {\n    const elements = document.getElementsByName(id);\n    if (!elements.length) {\n        return;\n    }\n    const element = elements.item(0);\n    if (!element) {\n        return;\n    }\n    if (element.getAttribute('type') === 'radio') {\n        const radioElement = q(`input[name=\"${id}\"][value=\"${value}\"]`);\n        radioElement.checked = true;\n        return;\n    }\n    if (element.getAttribute('type') === 'checkbox') {\n        element.checked = value;\n        return;\n    }\n    element.value = value;\n}\n","/**\n * Tablica CRC32\n */\nconst crcTable = (() => {\n    let c;\n    const table = [];\n    for (let n = 0; n < 256; n++) {\n        c = n;\n        for (let k = 0; k < 8; k++) {\n            c = c & 1 ? (0xEDB88320 ^ (c >>> 1)) : (c >>> 1);\n        }\n        table[n] = c;\n    }\n    return table;\n})();\n/**\n * Funkcja CRC32.\n * @param {string} str - Ciąg znaków do zhashowania.\n * @returns {number} - Liczbowy hash CRC32.\n */\nfunction crc32(str) {\n    let crc = 0 ^ (-1);\n    for (let i = 0; i < str.length; i++) {\n        crc = (crc >>> 8) ^ crcTable[(crc ^ str.charCodeAt(i)) & 0xFF];\n    }\n    return (crc ^ (-1)) >>> 0;\n}\n/**\n * Konwertuje hash CRC32 na format heksadecymalny.\n * @param {string} str - Ciąg znaków do zhashowania.\n * @returns {string} - Krótki hash w formacie heksadecymalnym.\n */\nexport function getCrc32Hash(str) {\n    const hash = crc32(str);\n    return hash.toString(16).padStart(8, '0'); // Upewnienie się, że ma 8 znaków\n}\n","import { isTabExpanded } from '../media-display';\nimport { createButtonElement, createDivElement, createElement, createIconElement, createImgElement, createSpanElement, q, } from '../utils/dom-functions';\nimport { formatTime, getQualityLabel } from '../utils/utils';\nfunction getThumbnailContainer() {\n    return createDivElement({\n        class: 'thumbnail',\n    });\n}\nfunction getAudioThumbnail(src) {\n    const thumbnailDiv = getThumbnailContainer();\n    const icon = createIconElement('music_note', 50);\n    const audio = createElement('audio', { src });\n    audio.addEventListener('loadedmetadata', () => {\n        const duration = formatTime(audio.duration);\n        const gridItem = audio.closest('.grid-item');\n        gridItem === null || gridItem === void 0 ? void 0 : gridItem.setAttribute('duration', duration);\n        audio.remove();\n    });\n    thumbnailDiv.appendChild(icon);\n    thumbnailDiv.appendChild(audio);\n    return thumbnailDiv;\n}\nfunction getImageThumbnail(src) {\n    const thumbnailDiv = getThumbnailContainer();\n    const imgElement = createImgElement({ src });\n    imgElement.addEventListener('load', () => {\n        const naturalWidth = imgElement.naturalWidth.toString();\n        const naturalHeight = imgElement.naturalHeight.toString();\n        const gridItem = imgElement.closest('grid-item');\n        gridItem === null || gridItem === void 0 ? void 0 : gridItem.setAttribute('original-width', naturalWidth);\n        gridItem === null || gridItem === void 0 ? void 0 : gridItem.setAttribute('original-height', naturalHeight);\n    });\n    thumbnailDiv.appendChild(imgElement);\n    return thumbnailDiv;\n}\nfunction getVideoThumbnail(src, poster) {\n    const thumbnailDiv = getThumbnailContainer();\n    const icon = createIconElement('videocam', 50);\n    const imagePoster = createImgElement({ src: poster });\n    const videoElement = createElement('video', { src, poster });\n    videoElement.addEventListener('loadedmetadata', () => {\n        const quality = getQualityLabel(videoElement.videoWidth);\n        const gridItem = videoElement.closest('grid-item');\n        gridItem === null || gridItem === void 0 ? void 0 : gridItem.setAttribute('video-quality', quality);\n        videoElement.remove();\n    });\n    thumbnailDiv.appendChild(poster ? imagePoster : icon);\n    thumbnailDiv.appendChild(videoElement);\n    return thumbnailDiv;\n}\nfunction getGridItem(item, itemIndex) {\n    const { src, alt, poster, type, selected } = item;\n    const gridItem = createDivElement({\n        class: ['grid-item', ...(selected ? ['checked'] : [])],\n        attributes: {\n            'data-src-dw': src,\n            'data-filename': (alt === null || alt === void 0 ? void 0 : alt.length) ? alt : '',\n            'data-item-idx': itemIndex,\n            'data-type': type,\n        },\n    });\n    const btn = createButtonElement({ class: 'download_image_button' }, createIconElement('download'));\n    const anchor = createElement('a', {\n        attributes: { href: item.src, download: item.alt || '' },\n    }, btn);\n    const details = createSpanElement({ class: 'item-details' }, [\n        createSpanElement({ class: 'item-details-ext' }),\n        createSpanElement({ class: 'item-details-dimensions' }),\n    ]);\n    let thumbnail = null;\n    if (type === 'audio') {\n        thumbnail = getAudioThumbnail(src);\n    }\n    else if (type === 'image') {\n        thumbnail = getImageThumbnail(src);\n    }\n    else if (type === 'video') {\n        thumbnail = getVideoThumbnail(src, poster);\n    }\n    gridItem.appendChild(anchor);\n    gridItem.appendChild(details);\n    if (thumbnail) {\n        gridItem.appendChild(thumbnail);\n    }\n    // Dodanie obserwatora zmian atrybutów do gridItem\n    const observer = new MutationObserver((mutationsList) => {\n        mutationsList.forEach((mutation) => {\n            if (mutation.type === 'attributes') {\n                updateDetails(gridItem, type, observer);\n            }\n        });\n    });\n    // Obserwowanie zmian atrybutów duration, quality, extension, width, height w gridItem\n    observer.observe(gridItem, {\n        attributes: true,\n        attributeFilter: ['duration', 'quality', 'extension', 'width', 'height'],\n    });\n    return gridItem;\n}\nfunction updateDetails(gridItem, type, observer) {\n    const details = gridItem.querySelector('.item-details');\n    const dimensionsDiv = details.querySelector('.item-details-dimensions');\n    const extension = gridItem.getAttribute('extension');\n    const duration = gridItem.getAttribute('duration');\n    const width = gridItem.getAttribute('width');\n    const height = gridItem.getAttribute('height');\n    const quality = gridItem.getAttribute('quality');\n    if (extension) {\n        details.querySelector('.item-details-ext').textContent = extension;\n    }\n    switch (type) {\n        case 'audio':\n            dimensionsDiv.textContent = duration;\n            if (extension && duration) {\n                observer.disconnect();\n            }\n            break;\n        case 'image':\n            dimensionsDiv.textContent = `${width} x ${height}`;\n            if (extension && width && height) {\n                observer.disconnect();\n            }\n            break;\n        case 'video':\n            dimensionsDiv.textContent = quality;\n            if (extension && quality) {\n                observer.disconnect();\n            }\n            break;\n    }\n}\nfunction getAccordionHeader(favicon, name, allCount) {\n    return createDivElement({ class: 'accordion-header' }, createButtonElement({ class: 'accordion-button' }, [\n        createImgElement({ src: favicon, class: 'favicon', alt: 'Favicon' }),\n        createSpanElement({ class: 'tab-title' }, [\n            createSpanElement({ class: 'title', html: name }),\n            createSpanElement({ class: 'tab-media-count', html: `(${allCount})` }),\n        ]),\n        createSpanElement({ class: 'tab-toggle' }),\n    ]));\n}\nfunction getYtRestrictionInfo() {\n    return createDivElement({ class: 'yt-info' }, [\n        createSpanElement({\n            html: 'Note: Chrome Web Store does not allow extensions that download videos from YouTube any longer.',\n        }),\n        createElement('a', {\n            href: 'https://developer.chrome.com/docs/webstore/troubleshooting/#prohibited-products',\n            html: 'Chrome policy',\n        }),\n    ]);\n}\nfunction getAccordionBody(items, tabId, tabUuid, restricted) {\n    const body = createDivElement({ class: 'accordion-body' });\n    if (!restricted) {\n        body.append(...items.map(item => {\n            return getGridItem(item, `${tabId}-${tabUuid}-${item.uuid}`);\n        }));\n    }\n    else {\n        body.appendChild(getYtRestrictionInfo());\n        body.classList.add('restricted');\n    }\n    return body;\n}\nfunction getAccordionItem(mediaToDisplayItem) {\n    const { title, uuid, id, favIconUrl } = mediaToDisplayItem.tab;\n    const expanded = isTabExpanded(uuid);\n    const item = createDivElement({\n        class: ['accordion-item', ...(expanded ? ['active'] : [])],\n    });\n    item.setAttribute('tab-uuid', uuid);\n    const header = getAccordionHeader(favIconUrl, title, mediaToDisplayItem.items.length);\n    const body = getAccordionBody(mediaToDisplayItem.items, id, uuid, mediaToDisplayItem.tab.isRestricted);\n    item.appendChild(header);\n    item.appendChild(body);\n    return item;\n}\nfunction getAccordionGroup(group) {\n    const groupDiv = createDivElement({\n        class: 'accordion-group',\n        attributes: {\n            'data-tab-subgroup': group.tabId,\n        },\n    });\n    group.data.forEach((mediaToDisplayItem) => {\n        groupDiv.appendChild(getAccordionItem(mediaToDisplayItem));\n    });\n    return groupDiv;\n}\nexport function updateAccordionData(mediaToDisplay) {\n    const accordion = q('.accordion');\n    accordion.innerHTML = '';\n    mediaToDisplay.forEach((group) => {\n        accordion.appendChild(getAccordionGroup(group));\n    });\n}\n","import { getCrc32Hash } from './crc32';\nimport { q } from './dom-functions';\nexport function uniqueSourceItems(arr) {\n    return [...new Map(arr.map(item => [item.src, item])).values()];\n}\nexport function countAllMedia(mediaToDisplay) {\n    return mediaToDisplay.reduce((total, mediaGroup) => {\n        return total + mediaGroup.data.reduce((_total, media) => {\n            return _total + media.items.length;\n        }, 0);\n    }, 0);\n}\nexport function mapMediaItemToDisplayMediaItem(item, itemType) {\n    const { src, uuid, poster, type, selected, alt } = item;\n    return {\n        src,\n        uuid,\n        poster,\n        filetype: type,\n        selected,\n        type: itemType,\n        alt,\n    };\n}\nexport function mapMediaTypeToSectionName(type) {\n    if (type === 'image') {\n        return 'image';\n    }\n    if (type === 'video') {\n        return 'video';\n    }\n    return 'audio';\n}\nexport function formatTime(seconds) {\n    const sec = Math.floor(seconds % 60); // Sekundy\n    const min = Math.floor((seconds % 3600) / 60); // Minuty\n    const hrs = Math.floor(seconds / 3600); // Godziny\n    const secStr = sec < 10 ? `0${sec}` : sec; // Dodaj zero przed sekundami, jeśli mniej niż 10\n    const minStr = min < 10 ? `0${min}` : min; // Dodaj zero przed minutami, jeśli mniej niż 10\n    if (hrs > 0) {\n        return `${hrs}:${minStr}:${secStr}`; // Format hh:mm:ss\n    }\n    else {\n        return `${minStr}:${secStr}`; // Format mm:ss\n    }\n}\nexport function getQualityLabel(width) {\n    if (width >= 3840)\n        return '4K';\n    if (width >= 2560)\n        return '1440p';\n    if (width >= 1920)\n        return '1080p';\n    if (width >= 1280)\n        return '720p';\n    if (width >= 854)\n        return '480p';\n    if (width >= 640)\n        return '360p';\n    return 'SD';\n}\nexport function getUuid(val) {\n    return getCrc32Hash(val.toString());\n}\nexport function getCurrentSection() {\n    return q(`.section-buttons button.selected`)\n        .getAttribute('data-section') || 'image';\n}\n","import { updateAccordionData } from './downloader/accordion';\nimport { mediaInTabs } from './media-in-tabs';\nimport { tabExpanded } from './tab-expanded';\nimport { q } from './utils/dom-functions';\nimport { countAllMedia, getCurrentSection, mapMediaItemToDisplayMediaItem } from './utils/utils';\nexport function getAllMediaToDisplay() {\n    const currentSection = getCurrentSection();\n    const mapFn = (media) => {\n        return media[currentSection].map((item) => {\n            return mapMediaItemToDisplayMediaItem(item, currentSection);\n        });\n    };\n    return mediaInTabs.map(group => {\n        const data = group.elements.map(({ media, tab }) => {\n            const items = mapFn(media);\n            return { tab, items };\n        });\n        return {\n            tabId: group.tabId,\n            data,\n        };\n    });\n}\nexport function displayMedia() {\n    const mediaToDisplay = getAllMediaToDisplay();\n    console.log(mediaToDisplay);\n    updateAccordionData(mediaToDisplay);\n    const countAll = q('.count-all');\n    countAll.innerHTML = countAllMedia(mediaToDisplay).toString();\n}\nexport function setTabExpanded(tabUuid, value) {\n    tabExpanded[tabUuid] = value;\n}\nexport function isTabExpanded(tabUuid) {\n    return tabExpanded[tabUuid];\n}\n","/**\n * An array that stores information about media content found in various browser tabs.\n */\nexport const mediaInTabs = [];\n","export const tabExpanded = {};\n","import { downloadUrl } from './chrome-api';\nexport function downloadItem(itemInfo) {\n    downloadUrl(itemInfo.url, itemInfo.alt);\n}\nexport function downloadImages(mediaToDisplay) {\n    const checkedImages = [];\n    for (let i = 0; i < mediaToDisplay.length; i++) {\n        const { data } = mediaToDisplay[i];\n        for (let idx = 0; idx < data.length; idx++) {\n            const { items } = data[idx];\n            for (let _idx = 0; _idx < items.length; _idx++) {\n                if (items[_idx].selected) {\n                    checkedImages.push({\n                        url: items[_idx].src,\n                        alt: items[_idx].alt,\n                    });\n                }\n            }\n        }\n    }\n    checkedImages.forEach(downloadItem);\n}\n","export const mediaTypes = ['image', 'audio', 'video'];\n","import { displayMedia, getAllMediaToDisplay } from '../media-display';\nimport { mediaInTabs } from '../media-in-tabs';\nimport { createTab, setStorageValue } from '../utils/chrome-api';\nimport { hide, q, setDisabled, toggleClass } from '../utils/dom-functions';\nimport { downloadImages } from '../utils/download-functions';\nimport { mapMediaTypeToSectionName } from '../utils/utils';\nimport { mediaTypes } from './media-types';\nfunction changeToggleAllCheckbox(e) {\n    const { checked } = e.target;\n    let allAreChecked = true;\n    let allAreUnchecked = true;\n    const mediaToDisplay = getAllMediaToDisplay();\n    let selectedCount = 0;\n    toggleClass('.grid-item', 'checked', checked);\n    for (let i = 0; i < mediaToDisplay.length; i++) {\n        const { data } = mediaToDisplay[i];\n        for (let idx = 0; idx < data.length; idx++) {\n            const { items } = data[idx];\n            for (let _idx = 0; _idx < items.length; _idx++) {\n                items[_idx].selected = checked;\n                if (items[_idx].selected) {\n                    allAreUnchecked = false;\n                    selectedCount++;\n                }\n                else {\n                    allAreChecked = false;\n                }\n            }\n        }\n    }\n    updateSelectedCountText(selectedCount);\n    const toggle_all_checkbox = q('#toggle_all_checkbox');\n    toggle_all_checkbox.indeterminate = !(allAreChecked || allAreUnchecked);\n    if (allAreChecked) {\n        toggle_all_checkbox.checked = true;\n    }\n    else if (allAreUnchecked) {\n        toggle_all_checkbox.checked = false;\n    }\n}\nfunction onClickItem(target) {\n    const gridItem = target.closest('.grid-item');\n    const itemIndex = gridItem.getAttribute('data-item-idx');\n    const type = gridItem.getAttribute('data-type');\n    const isChecked = gridItem.classList.contains('checked');\n    const newValue = !isChecked;\n    toggleClass(gridItem, 'checked');\n    const [tab_id, tabUuid, itemIdx] = itemIndex.split('-');\n    const currentSection = mapMediaTypeToSectionName(type);\n    const groupIndexInSection = mediaInTabs.findIndex(({ tabId }) => tabId === +tab_id);\n    const tabIndexInSection = mediaInTabs[groupIndexInSection].elements.findIndex(({ tab }) => tab.uuid === tabUuid);\n    if (tabIndexInSection === -1) {\n        return;\n    }\n    mediaInTabs[groupIndexInSection].elements[tabIndexInSection].media[currentSection][+itemIdx].selected = newValue;\n    let allAreChecked = true;\n    let allAreUnchecked = true;\n    const mediaToDisplay = getAllMediaToDisplay();\n    let selectedCount = 0;\n    console.log(itemIndex, newValue);\n    for (let i = 0; i < mediaToDisplay.length; i++) {\n        const { data } = mediaToDisplay[i];\n        for (let idx = 0; idx < data.length; idx++) {\n            const { items } = data[idx];\n            for (let _idx = 0; _idx < items.length; _idx++) {\n                if (items[_idx].selected) {\n                    allAreUnchecked = false;\n                    selectedCount++;\n                }\n                else {\n                    allAreChecked = false;\n                }\n            }\n        }\n    }\n    updateSelectedCountText(selectedCount);\n    const toggle_all_checkbox = q('#toggle_all_checkbox');\n    toggle_all_checkbox.indeterminate = !(allAreChecked || allAreUnchecked);\n    if (allAreChecked) {\n        toggle_all_checkbox.checked = true;\n    }\n    else if (allAreUnchecked) {\n        toggle_all_checkbox.checked = false;\n    }\n}\nfunction updateSelectedCountText(selectedCount) {\n    q('#download-btn .selected-count').innerHTML = selectedCount > 0\n        ? `(${selectedCount})`\n        : '';\n    setDisabled('#download-btn', !selectedCount);\n}\nfunction selectSection(name) {\n    name = mediaTypes.includes(name) ? name : 'image';\n    toggleClass('.section-buttons button', 'selected', false);\n    toggleClass(`.section-buttons button[data-section=\"${name}\"]`, 'selected', true);\n}\nexport function setDomListeners() {\n    document.body.addEventListener('click', e => {\n        const { target } = e;\n        if (!target) {\n            return;\n        }\n        if (target.closest('#download-btn')) {\n            downloadImages(getAllMediaToDisplay());\n            return;\n        }\n        if (target.closest('.section-buttons button')) {\n            selectSection(target.closest('.section-buttons button').getAttribute('data-section'));\n            displayMedia();\n            return;\n        }\n        if (target.matches('.thumbnail')) {\n            onClickItem(target);\n            return;\n        }\n        if (target.matches('.yt-info a')) {\n            window.open('https://developer.chrome.com/docs/webstore/troubleshooting/#prohibited-products');\n            return;\n        }\n        if (target.matches('.changelog-link')) {\n            setStorageValue({ showChangelogLink: false });\n            createTab({ url: 'views/changelog.html' });\n            hide(target);\n            return;\n        }\n        if (target.closest('.accordion-header')) {\n            const header = target.closest('.accordion-header');\n            toggleClass(header.closest('.accordion-item'), 'active');\n        }\n    });\n    q('#toggle_all_checkbox').addEventListener('change', changeToggleAllCheckbox);\n}\n","import { executeContentScript } from '../utils/chrome-api';\nexport function findMedia(tabId = null) {\n    executeContentScript('/dist/content-script/send_media.bundle.js', tabId);\n}\n","export var MessageEventNameEnum;\n(function (MessageEventNameEnum) {\n    MessageEventNameEnum[\"TAB_CREATED\"] = \"tabCreated\";\n    MessageEventNameEnum[\"TAB_REPLACED\"] = \"tabReplaced\";\n    MessageEventNameEnum[\"TAB_UPDATED\"] = \"tabUpdated\";\n    MessageEventNameEnum[\"TAB_ACTIVATED\"] = \"tabActivated\";\n    MessageEventNameEnum[\"SEND_MEDIA\"] = \"sendMedia\";\n})(MessageEventNameEnum || (MessageEventNameEnum = {}));\n","const restrictedUrls = [\n    'https://youtube.com',\n    'https://www.youtube.com',\n];\nexport function isRestrictedUrl(url) {\n    return restrictedUrls.some(restrictedUrl => url.includes(restrictedUrl));\n}\n","var __awaiter = (this && this.__awaiter) || function (thisArg, _arguments, P, generator) {\n    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }\n    return new (P || (P = Promise))(function (resolve, reject) {\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\n        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\n    });\n};\nimport { displayMedia, setTabExpanded } from '../media-display';\nimport { mediaInTabs } from '../media-in-tabs';\nimport { MessageEventNameEnum } from '../types/message-event-name.enum';\nimport { getCurrentTab, getTab, onMessage } from '../utils/chrome-api';\nimport { getUuid, uniqueSourceItems } from '../utils/utils';\nimport { isRestrictedUrl } from '../utils/yt-restriction';\nimport { findMedia } from './find-media';\nimport { mediaTypes } from './media-types';\nfunction tabCreatedListener(tab) {\n    if (tab.active) {\n        findMedia(tab.id);\n    }\n}\nfunction tabUpdatedListener(tabId, changeInfo, tab) {\n    if (tab.active && changeInfo.status === 'complete') {\n        findMedia(tab.id);\n    }\n}\nfunction tabReplacedListener(tabId) {\n    return __awaiter(this, void 0, void 0, function* () {\n        const tab = yield getTab(tabId);\n        if (!tab) {\n            return;\n        }\n        if (tab.active) {\n            findMedia(tabId);\n        }\n    });\n}\nfunction tabActivatedListener(tabId) {\n    return __awaiter(this, void 0, void 0, function* () {\n        const tab = yield getTab(tabId);\n        if (!tab) {\n            return;\n        }\n        if (tab.active) {\n            findMedia(tabId);\n        }\n    });\n}\nfunction sendMediaListener(data) {\n    return __awaiter(this, void 0, void 0, function* () {\n        if (data.error && Object.keys(data.error).length > 0) {\n            /// error\n            console.log(data);\n            return;\n        }\n        const tabInfo = yield getCurrentTab();\n        if (!tabInfo) {\n            return;\n        }\n        mediaTypes\n            .filter(name => !!data[name])\n            .forEach(name => {\n            const newMedia = {\n                image: [],\n                video: [],\n                audio: [],\n            };\n            data[name]\n                .filter((item) => !newMedia[name].includes(item));\n            const restricted = isRestrictedUrl(tabInfo.url);\n            if (!restricted) {\n                data[name].forEach((item) => newMedia[name].push(item));\n            }\n            const tabUuid = getUuid(`${tabInfo.id}-${tabInfo.url}`);\n            let existingIndexTabGroup = mediaInTabs.findIndex(({ tabId }) => tabId === tabInfo.id);\n            if (existingIndexTabGroup === -1) {\n                mediaInTabs.push({\n                    tabId: tabInfo.id,\n                    elements: [],\n                });\n                existingIndexTabGroup = mediaInTabs.length - 1;\n            }\n            const existingIndex = mediaInTabs[existingIndexTabGroup].elements.findIndex(({ tab }) => tab.uuid === tabUuid);\n            const tabObj = {\n                id: tabInfo.id,\n                favIconUrl: tabInfo.favIconUrl,\n                url: tabInfo.url,\n                title: tabInfo.title,\n                isRestricted: restricted,\n                uuid: tabUuid,\n            };\n            if (existingIndex === -1) {\n                mediaInTabs[existingIndexTabGroup].elements.push({\n                    media: newMedia,\n                    tab: tabObj,\n                });\n            }\n            else {\n                const { media } = mediaInTabs[existingIndexTabGroup].elements[existingIndex];\n                mediaTypes.forEach((type) => {\n                    mediaInTabs[existingIndexTabGroup].elements[existingIndex].media[type] = uniqueSourceItems([\n                        ...media[type],\n                        ...newMedia[type],\n                    ]);\n                    mediaInTabs[existingIndexTabGroup].elements[existingIndex].tab = tabObj;\n                });\n            }\n            mediaInTabs.forEach(group => {\n                group.elements.forEach(info => setTabExpanded(info.tab.uuid, false));\n            });\n            setTabExpanded(tabUuid, true);\n        });\n        displayMedia();\n    });\n}\nexport function setMessageListeners() {\n    onMessage((message) => {\n        const { eventName, data } = message;\n        console.log(eventName, data);\n        switch (eventName) {\n            case MessageEventNameEnum.TAB_UPDATED:\n                tabUpdatedListener(data.tabId, data.changeInfo, data.tab);\n                break;\n            case MessageEventNameEnum.TAB_ACTIVATED:\n                tabActivatedListener(data.tabId);\n                break;\n            case MessageEventNameEnum.TAB_CREATED:\n                tabCreatedListener(data.tab);\n                break;\n            case MessageEventNameEnum.TAB_REPLACED:\n                tabReplacedListener(data.tabId);\n                break;\n            case MessageEventNameEnum.SEND_MEDIA:\n                sendMediaListener(data);\n                break;\n        }\n    });\n}\n","import { getStorageValue } from '../utils/chrome-api';\nimport { show } from '../utils/dom-functions';\nimport { setDomListeners } from './dom-listeners';\nimport { findMedia } from './find-media';\nimport { setMessageListeners } from './message-listeners';\nfunction init() {\n    findMedia();\n    setMessageListeners();\n    setDomListeners();\n    getStorageValue({ showChangelogLink: false }, result => {\n        if (result.showChangelogLink) {\n            show('.changelog-link');\n        }\n    });\n}\ninit();\n"],"names":["__awaiter","thisArg","_arguments","P","generator","Promise","resolve","reject","fulfilled","value","step","next","e","rejected","result","done","then","apply","getCurrentTab","this","_a","_b","queryOptions","active","lastFocusedWindow","tab","chrome","tabs","query","console","log","url","startsWith","_c","getTab","tabId","get","runtime","lastError","error","toggleClass","selector","className","toggleValue","elements","data","els","document","querySelectorAll","forEach","el","push","qAll","Array","isArray","length","element","classList","contains","remove","add","createElement","tagName","props","children","class","html","innerHTML","attributes","attr","Object","entries","setAttribute","type","title","alt","src","HTMLElement","append","createDivElement","createSpanElement","createButtonElement","createImgElement","createIconElement","name","size","q","querySelector","crcTable","c","table","n","k","getThumbnailContainer","getGridItem","item","itemIndex","poster","selected","gridItem","btn","anchor","href","download","details","thumbnail","thumbnailDiv","icon","audio","addEventListener","duration","seconds","sec","Math","floor","min","hrs","secStr","minStr","formatTime","closest","appendChild","getAudioThumbnail","imgElement","naturalWidth","toString","naturalHeight","getImageThumbnail","imagePoster","videoElement","quality","width","videoWidth","getVideoThumbnail","observer","MutationObserver","mutationsList","mutation","dimensionsDiv","extension","getAttribute","height","textContent","disconnect","updateDetails","observe","attributeFilter","getAccordionItem","mediaToDisplayItem","uuid","id","favIconUrl","tabExpanded","header","favicon","allCount","items","body","tabUuid","restricted","map","getAccordionBody","isRestricted","mediaInTabs","getAllMediaToDisplay","currentSection","group","media","itemType","filetype","mapMediaItemToDisplayMediaItem","mapFn","displayMedia","mediaToDisplay","accordion","groupDiv","getAccordionGroup","updateAccordionData","reduce","total","mediaGroup","_total","countAllMedia","setTabExpanded","downloadItem","itemInfo","filename","downloadOptions","downloads","downloadUrl","mediaTypes","changeToggleAllCheckbox","checked","target","allAreChecked","allAreUnchecked","selectedCount","i","idx","_idx","updateSelectedCountText","toggle_all_checkbox","indeterminate","disabled","findMedia","scriptUrl_1","arguments","scriptUrl","scripting","executeScript","allFrames","files","executeContentScript","MessageEventNameEnum","restrictedUrls","obj","callback","sendMediaListener","keys","tabInfo","filter","newMedia","image","video","includes","some","restrictedUrl","str","crc","charCodeAt","crc32","padStart","existingIndexTabGroup","findIndex","existingIndex","tabObj","arr","Map","values","info","message","eventName","TAB_UPDATED","changeInfo","status","TAB_ACTIVATED","tabActivatedListener","TAB_CREATED","tabCreatedListener","TAB_REPLACED","tabReplacedListener","SEND_MEDIA","onMessage","addListener","setMessageListeners","checkedImages","downloadImages","matches","newValue","tab_id","itemIdx","split","mapMediaTypeToSectionName","groupIndexInSection","tabIndexInSection","onClickItem","window","open","showChangelogLink","storage","sync","set","create","hidden","hide","show"],"sourceRoot":""}