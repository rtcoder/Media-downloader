{"version":3,"file":"downloader/main.bundle.js","mappings":"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","sources":["webpack://media-downloader/./src/utils/chrome-api.ts","webpack://media-downloader/./src/utils/dom-functions.ts","webpack://media-downloader/./src/media-in-tabs.ts","webpack://media-downloader/./src/utils/crc32.ts","webpack://media-downloader/./src/utils/utils.ts","webpack://media-downloader/./src/downloader/accordion.ts","webpack://media-downloader/./src/media-display.ts","webpack://media-downloader/./src/utils/download-functions.ts","webpack://media-downloader/./src/downloader/media-types.ts","webpack://media-downloader/./src/downloader/dom-listeners.ts","webpack://media-downloader/./src/downloader/find-media.ts","webpack://media-downloader/./src/types/message-event-name.enum.ts","webpack://media-downloader/./src/utils/yt-restriction.ts","webpack://media-downloader/./src/downloader/message-listeners.ts","webpack://media-downloader/./src/downloader/main.ts"],"sourcesContent":["var __awaiter = (this && this.__awaiter) || function (thisArg, _arguments, P, generator) {\n    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }\n    return new (P || (P = Promise))(function (resolve, reject) {\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\n        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\n    });\n};\nexport function executeContentScript(scriptUrl_1) {\n    return __awaiter(this, arguments, void 0, function* (scriptUrl, tabId = null) {\n        if (!tabId) {\n            const tab = yield getCurrentTab();\n            if (!tab || !tab.id) {\n                return;\n            }\n            if (tab.id <= 0) {\n                return;\n            }\n            tabId = tab.id;\n        }\n        yield chrome.scripting.executeScript({\n            target: { tabId, allFrames: true },\n            files: [scriptUrl],\n        });\n    });\n}\nexport function getCurrentTab() {\n    return __awaiter(this, void 0, void 0, function* () {\n        var _a, _b;\n        try {\n            let queryOptions = { active: true, lastFocusedWindow: true };\n            let [tab] = yield chrome.tabs.query(queryOptions);\n            console.log('current tabUrl: ', tab === null || tab === void 0 ? void 0 : tab.url, tab);\n            if (!(tab === null || tab === void 0 ? void 0 : tab.url) || ((_a = tab === null || tab === void 0 ? void 0 : tab.url) === null || _a === void 0 ? void 0 : _a.startsWith('chrome://')) || ((_b = tab === null || tab === void 0 ? void 0 : tab.url) === null || _b === void 0 ? void 0 : _b.startsWith('https://chromewebstore.google.com'))) {\n                return null;\n            }\n            return tab;\n        }\n        catch (_c) {\n            return null;\n        }\n    });\n}\nexport function getTab(tabId) {\n    return __awaiter(this, void 0, void 0, function* () {\n        var _a, _b;\n        try {\n            const tab = yield chrome.tabs.get(tabId);\n            if (chrome.runtime.lastError) {\n                console.error('Error get tab by ID:', chrome.runtime.lastError);\n                return null;\n            }\n            console.log('tabUrl: ', tab === null || tab === void 0 ? void 0 : tab.url);\n            if (!(tab === null || tab === void 0 ? void 0 : tab.url) || ((_a = tab === null || tab === void 0 ? void 0 : tab.url) === null || _a === void 0 ? void 0 : _a.startsWith('chrome://')) || ((_b = tab === null || tab === void 0 ? void 0 : tab.url) === null || _b === void 0 ? void 0 : _b.startsWith('https://chromewebstore.google.com'))) {\n                return null;\n            }\n            return tab;\n        }\n        catch (_c) {\n            return null;\n        }\n    });\n}\nexport function downloadUrl(url, filename = null) {\n    const downloadOptions = { url };\n    if (filename) {\n        downloadOptions.filename = filename;\n    }\n    chrome.downloads.download(downloadOptions);\n}\nexport function getStorageValue(obj, callback) {\n    chrome.storage.sync.get(obj, callback);\n}\nexport function setStorageValue(obj, callback) {\n    if (callback) {\n        chrome.storage.sync.set(obj, callback);\n    }\n    else {\n        chrome.storage.sync.set(obj);\n    }\n}\nexport function sendMessage(eventName, data) {\n    try {\n        chrome.runtime.sendMessage({ eventName, data }, (response) => {\n        });\n    }\n    catch (_a) {\n        // do nothing\n    }\n}\nexport function onMessage(callback) {\n    chrome.runtime.onMessage.addListener(callback);\n}\nexport function createTab(details) {\n    chrome.tabs.create(details);\n}\nexport function setPopupOptions(options) {\n    chrome.action.setPopup(options);\n}\nexport function setSidePanelOptions(options) {\n    chrome.sidePanel.setOptions(options);\n}\nexport function setSidePanelBehavior(options) {\n    chrome.sidePanel.setPanelBehavior(options).catch((error) => console.log(error));\n}\nexport function contextMenuClicked(callback) {\n    chrome.contextMenus.onClicked.addListener((info, tab) => {\n        if (!tab) {\n            return;\n        }\n        callback(info, tab);\n    });\n}\nexport function onInstalled(callback) {\n    chrome.runtime.onInstalled.addListener(callback);\n}\nexport function createContextMenu(properties) {\n    chrome.contextMenus.create(properties);\n}\nexport function onCreateTab(callback) {\n    chrome.tabs.onCreated.addListener(callback);\n}\nexport function onReplaceTab(callback) {\n    chrome.tabs.onReplaced.addListener(callback);\n}\nexport function onActivateTab(callback) {\n    chrome.tabs.onActivated.addListener(callback);\n}\nexport function onUpdateTab(callback) {\n    chrome.tabs.onUpdated.addListener(callback);\n}\nexport function onClickExtensionIcon(callback) {\n    chrome.action.onClicked.addListener(callback);\n}\nexport function openPopup(options) {\n    chrome.action.openPopup(options);\n}\nexport function openSidePanel(options) {\n    chrome.sidePanel.open(options);\n}\nexport function getVersion() {\n    return chrome.runtime.getManifest().version;\n}\n","export function setDisabled(selector, value) {\n    q(selector).disabled = value;\n}\nexport function toggleClass(selector, className, toggleValue = null) {\n    let elements = [];\n    if (typeof selector === 'string') {\n        elements = qAll(selector);\n    }\n    else if (Array.isArray(selector)) {\n        elements = [...selector];\n    }\n    else {\n        elements = [selector];\n    }\n    if (!elements.length) {\n        return;\n    }\n    if (toggleValue === null) {\n        [...elements].forEach(element => {\n            if (element.classList.contains(className)) {\n                element.classList.remove(className);\n            }\n            else {\n                element.classList.add(className);\n            }\n        });\n    }\n    else {\n        if (toggleValue) {\n            [...elements].forEach(element => element.classList.add(className));\n        }\n        else {\n            [...elements].forEach(element => element.classList.remove(className));\n        }\n    }\n}\nexport function hasClass(selector, className) {\n    let element;\n    if (typeof selector === 'string') {\n        element = q(selector);\n    }\n    else {\n        element = selector;\n    }\n    if (!element) {\n        return false;\n    }\n    return element.classList.contains(className);\n}\n/**\n * @typedef {Object} Props\n * @property {string|string[]} [class] - A string or an array of strings representing the class(es) to be added to the element.\n * @property {string} [html] - The HTML content to be set as the innerHTML of the element.\n * @property {{[key: string]: string|number}} [attributes] - An object representing additional attributes to set on the element.\n * @property {{[key: string]: string|number}} [data] - An object representing additional data attributes to set on the element.\n * @property {string} [type] - The type attribute to be set on the element (useful for elements like `input`).\n * @property {string} [title] - The title attribute to be set on the element.\n * @property {string} [alt] - The alt attribute to be set on the element.\n * @property {string} [src] - The src attribute to be set on the element.\n */\n/**\n * Creates a new DOM element with the specified tag name and properties.\n *\n * @param {keyof HTMLElementTagNameMap} tagName - The name of the tag for the element to be created (e.g., 'div', 'span').\n * @param {Props} [props] - An object containing properties to set on the element.\n * @param {Children} [children] - Children nodes to be appended to the created element.\n * @returns {HTMLElement} The newly created DOM element.\n */\nexport function createElement(tagName, props = {}, children = []) {\n    const element = document.createElement(tagName);\n    if (props.class) {\n        if (typeof props.class === 'string') {\n            element.classList.add(props.class);\n        }\n        else {\n            element.classList.add(...props.class);\n        }\n    }\n    if (props.html) {\n        element.innerHTML = props.html || '';\n    }\n    if (props.attributes) {\n        for (const [attr, value] of Object.entries(props.attributes)) {\n            element.setAttribute(attr, value);\n        }\n    }\n    if (props.data) {\n        for (const [attr, value] of Object.entries(props.data)) {\n            element.setAttribute(`data-${attr}`, value);\n        }\n    }\n    if (props.type) {\n        element.type = props.type;\n    }\n    if (props.title) {\n        element.title = props.title;\n    }\n    if (props.alt) {\n        element.alt = props.alt;\n    }\n    if (props.src) {\n        element.src = props.src;\n    }\n    if (children) {\n        if (!Array.isArray(children) && children instanceof HTMLElement) {\n            children = [children];\n        }\n        element.append(...children);\n    }\n    return element;\n}\n/**\n * Creates a new DOM element with the specified tag name and properties.\n *\n * @param {Props} [props] - An object containing properties to set on the element.\n * @param {Children} [children] - Children nodes to be appended to the created element.\n * @returns {HTMLDivElement} The newly created DOM element.\n */\nexport function createDivElement(props = {}, children = []) {\n    return createElement('div', props, children);\n}\n/**\n * Creates a new DOM element with the specified tag name and properties.\n *\n * @param {Props} [props] - An object containing properties to set on the element.\n * @param {Children} [children] - Children nodes to be appended to the created element.\n * @returns {HTMLSpanElement} The newly created DOM element.\n */\nexport function createSpanElement(props = {}, children = []) {\n    return createElement('span', props, children);\n}\n/**\n * Creates a new DOM element with the specified tag name and properties.\n *\n * @param {Props} [props] - An object containing properties to set on the element.\n * @param {Children} [children] - Children nodes to be appended to the created element.\n * @returns {HTMLButtonElement} The newly created DOM element.\n */\nexport function createButtonElement(props = {}, children = []) {\n    props.type = 'button';\n    return createElement('button', props, children);\n}\n/**\n * Creates a new DOM element with the specified tag name and properties.\n *\n * @param {Props} [props] - An object containing properties to set on the element.\n * @returns {HTMLImageElement} The newly created DOM element.\n */\nexport function createImgElement(props = {}) {\n    return createElement('img', props);\n}\nexport function createIconElement(name, size = 24) {\n    return createSpanElement({\n        html: name,\n        class: 'x-icon',\n        attributes: {\n            size,\n        },\n    });\n}\nexport function show(selector) {\n    const el = typeof selector === 'string'\n        ? q(selector)\n        : selector;\n    if (el) {\n        el.hidden = false;\n    }\n}\nexport function hide(selector) {\n    const el = typeof selector === 'string'\n        ? q(selector)\n        : selector;\n    if (el) {\n        el.hidden = true;\n    }\n}\nexport function qAll(selector) {\n    const data = [];\n    const els = document.querySelectorAll(selector);\n    els.forEach((el) => data.push(el));\n    return els;\n}\nexport function q(selector) {\n    return document.querySelector(selector);\n}\nexport function getInputValue(id) {\n    const elements = document.getElementsByName(id);\n    if (!elements.length) {\n        return;\n    }\n    const element = elements.item(0);\n    if (!element) {\n        return;\n    }\n    if (!element) {\n        return null;\n    }\n    if (element.getAttribute('type') === 'radio') {\n        const radioElement = q(`input[name=\"${id}\"]:checked`);\n        return radioElement.value;\n    }\n    if (element.getAttribute('type') === 'checkbox') {\n        return element.checked;\n    }\n    return element.value;\n}\nexport function setInputValue(id, value) {\n    const elements = document.getElementsByName(id);\n    if (!elements.length) {\n        return;\n    }\n    const element = elements.item(0);\n    if (!element) {\n        return;\n    }\n    if (element.getAttribute('type') === 'radio') {\n        const radioElement = q(`input[name=\"${id}\"][value=\"${value}\"]`);\n        radioElement.checked = true;\n        return;\n    }\n    if (element.getAttribute('type') === 'checkbox') {\n        element.checked = value;\n        return;\n    }\n    element.value = value;\n}\n","/**\n * An array that stores information about media content found in various browser tabs.\n */\nexport const mediaInTabs = [];\nexport const tabExpanded = {};\nexport const tabsInfo = {};\n","/**\n * Tablica CRC32\n */\nconst crcTable = (() => {\n    let c;\n    const table = [];\n    for (let n = 0; n < 256; n++) {\n        c = n;\n        for (let k = 0; k < 8; k++) {\n            c = c & 1 ? (0xEDB88320 ^ (c >>> 1)) : (c >>> 1);\n        }\n        table[n] = c;\n    }\n    return table;\n})();\n/**\n * Funkcja CRC32.\n * @param {string} str - Ciąg znaków do zhashowania.\n * @returns {number} - Liczbowy hash CRC32.\n */\nfunction crc32(str) {\n    let crc = 0 ^ (-1);\n    for (let i = 0; i < str.length; i++) {\n        crc = (crc >>> 8) ^ crcTable[(crc ^ str.charCodeAt(i)) & 0xFF];\n    }\n    return (crc ^ (-1)) >>> 0;\n}\n/**\n * Konwertuje hash CRC32 na format heksadecymalny.\n * @param {string} str - Ciąg znaków do zhashowania.\n * @returns {string} - Krótki hash w formacie heksadecymalnym.\n */\nexport function getCrc32Hash(str) {\n    const hash = crc32(str);\n    return hash.toString(16).padStart(8, '0'); // Upewnienie się, że ma 8 znaków\n}\n","import { getCrc32Hash } from './crc32';\nimport { q } from './dom-functions';\nexport function uniqueSourceItems(arr) {\n    return [...new Map(arr.map(item => [item.src, item])).values()];\n}\nexport function countAllMedia(mediaToDisplay) {\n    return mediaToDisplay.reduce((total, mediaGroup) => {\n        return total + mediaGroup.data.reduce((_total, media) => {\n            return _total + media.items.length;\n        }, 0);\n    }, 0);\n}\nexport function mapMediaItemToDisplayMediaItem(item, itemType) {\n    const { src, uuid, poster, type, selected, alt } = item;\n    return {\n        src,\n        uuid,\n        poster,\n        filetype: type,\n        selected,\n        type: itemType,\n        alt,\n    };\n}\nexport function mapMediaTypeToSectionName(type) {\n    if (type === 'image') {\n        return 'image';\n    }\n    if (type === 'video') {\n        return 'video';\n    }\n    return 'audio';\n}\nexport function formatTime(seconds) {\n    const sec = Math.floor(seconds % 60); // Sekundy\n    const min = Math.floor((seconds % 3600) / 60); // Minuty\n    const hrs = Math.floor(seconds / 3600); // Godziny\n    const secStr = sec < 10 ? `0${sec}` : sec; // Dodaj zero przed sekundami, jeśli mniej niż 10\n    const minStr = min < 10 ? `0${min}` : min; // Dodaj zero przed minutami, jeśli mniej niż 10\n    if (hrs > 0) {\n        return `${hrs}:${minStr}:${secStr}`; // Format hh:mm:ss\n    }\n    else {\n        return `${minStr}:${secStr}`; // Format mm:ss\n    }\n}\nexport function getQualityLabel(width) {\n    if (width >= 3840)\n        return '4K';\n    if (width >= 2560)\n        return '1440p';\n    if (width >= 1920)\n        return '1080p';\n    if (width >= 1280)\n        return '720p';\n    if (width >= 854)\n        return '480p';\n    if (width >= 640)\n        return '360p';\n    return 'SD';\n}\nexport function getUuid(val) {\n    return getCrc32Hash(val.toString());\n}\nexport function getCurrentSection() {\n    return q(`.section-buttons button.selected`)\n        .getAttribute('data-section') || 'image';\n}\n","import { isTabExpanded } from '../media-display';\nimport { tabsInfo } from '../media-in-tabs';\nimport { createButtonElement, createDivElement, createElement, createIconElement, createImgElement, createSpanElement, q, } from '../utils/dom-functions';\nimport { formatTime, getQualityLabel } from '../utils/utils';\nfunction imageLoad(imgEl) {\n    imgEl.addEventListener('load', () => {\n        const naturalWidth = imgEl.naturalWidth.toString();\n        const naturalHeight = imgEl.naturalHeight.toString();\n        const gridItem = imgEl.closest('.grid-item');\n        gridItem === null || gridItem === void 0 ? void 0 : gridItem.setAttribute('original-width', naturalWidth);\n        gridItem === null || gridItem === void 0 ? void 0 : gridItem.setAttribute('original-height', naturalHeight);\n    });\n}\nfunction videoLoad(videoEl) {\n    videoEl.addEventListener('loadedmetadata', () => {\n        const quality = getQualityLabel(videoEl.videoWidth);\n        const gridItem = videoEl.closest('.grid-item');\n        gridItem === null || gridItem === void 0 ? void 0 : gridItem.setAttribute('video-quality', quality);\n        videoEl.remove();\n    });\n}\nfunction audioLoad(audioEl) {\n    audioEl.addEventListener('loadedmetadata', () => {\n        const duration = formatTime(audioEl.duration);\n        const gridItem = audioEl.closest('.grid-item');\n        gridItem === null || gridItem === void 0 ? void 0 : gridItem.setAttribute('audio-duration', duration);\n        audioEl.remove();\n    });\n}\nfunction loadThumbnail(thumbnail, type) {\n    switch (type) {\n        case 'image':\n            imageLoad(thumbnail.querySelector('img'));\n            break;\n        case 'audio':\n            audioLoad(thumbnail.querySelector('audio'));\n            break;\n        case 'video':\n            videoLoad(thumbnail.querySelector('video'));\n            break;\n    }\n}\nfunction getThumbnailContainer() {\n    return createDivElement({\n        class: 'thumbnail',\n    });\n}\nfunction getAudioThumbnail(src) {\n    const thumbnailDiv = getThumbnailContainer();\n    const icon = createIconElement('music_note', 50);\n    const audio = createElement('audio', { src });\n    thumbnailDiv.appendChild(icon);\n    thumbnailDiv.appendChild(audio);\n    return thumbnailDiv;\n}\nfunction getImageThumbnail(src) {\n    const thumbnailDiv = getThumbnailContainer();\n    const imgElement = createImgElement({ src });\n    thumbnailDiv.appendChild(imgElement);\n    return thumbnailDiv;\n}\nfunction getVideoThumbnail(src, poster) {\n    const thumbnailDiv = getThumbnailContainer();\n    const icon = createIconElement('videocam', 50);\n    const imagePoster = createImgElement({ src: poster });\n    const videoElement = createElement('video', { src, poster });\n    thumbnailDiv.appendChild(poster ? imagePoster : icon);\n    thumbnailDiv.appendChild(videoElement);\n    return thumbnailDiv;\n}\nfunction getGridItem(item, itemIndex) {\n    const { src, alt, poster, type, selected, filetype } = item;\n    const gridItem = createDivElement({\n        class: ['grid-item', ...(selected ? ['checked'] : [])],\n        attributes: {\n            'data-src-dw': src,\n            'data-filename': (alt === null || alt === void 0 ? void 0 : alt.length) ? alt : '',\n            'data-item-idx': itemIndex,\n            'data-type': type,\n        },\n    });\n    const btn = createButtonElement({ class: 'download_image_button' }, createIconElement('download'));\n    const anchor = createElement('a', {\n        attributes: { href: item.src, download: item.alt || '' },\n    }, btn);\n    const details = createSpanElement({ class: 'item-details' }, [\n        createSpanElement({ class: 'item-details-ext', html: filetype }),\n        createSpanElement({ class: 'item-details-dimensions' }),\n    ]);\n    let thumbnail = null;\n    switch (type) {\n        case 'image':\n            thumbnail = getImageThumbnail(src);\n            break;\n        case 'audio':\n            thumbnail = getAudioThumbnail(src);\n            break;\n        case 'video':\n            thumbnail = getVideoThumbnail(src, poster);\n            break;\n    }\n    gridItem.appendChild(anchor);\n    gridItem.appendChild(details);\n    if (thumbnail) {\n        gridItem.appendChild(thumbnail);\n        loadThumbnail(thumbnail, type);\n    }\n    // Dodanie obserwatora zmian atrybutów do gridItem\n    const observer = new MutationObserver((mutationsList) => {\n        mutationsList.forEach((mutation) => {\n            if (mutation.type === 'attributes') {\n                updateDetails(gridItem, type, observer);\n            }\n        });\n    });\n    // Obserwowanie zmian atrybutów duration, quality, extension, width, height w gridItem\n    observer.observe(gridItem, {\n        attributes: true,\n        attributeFilter: ['audio-duration', 'video-quality', 'original-width', 'original-height'],\n    });\n    return gridItem;\n}\nfunction updateDetails(gridItem, type, observer) {\n    const details = gridItem.querySelector('.item-details');\n    const dimensionsDiv = details.querySelector('.item-details-dimensions');\n    const duration = gridItem.getAttribute('audio-duration');\n    const width = gridItem.getAttribute('original-width');\n    const height = gridItem.getAttribute('original-height');\n    const quality = gridItem.getAttribute('video-quality');\n    console.log({ duration, width, height, quality });\n    switch (type) {\n        case 'audio':\n            dimensionsDiv.textContent = duration;\n            if (duration) {\n                observer.disconnect();\n            }\n            break;\n        case 'image':\n            dimensionsDiv.textContent = `${width} x ${height}`;\n            if (width && height) {\n                observer.disconnect();\n            }\n            break;\n        case 'video':\n            dimensionsDiv.textContent = quality;\n            if (quality) {\n                observer.disconnect();\n            }\n            break;\n    }\n}\nfunction getAccordionHeader(favicon, name, allCount) {\n    return createDivElement({ class: 'accordion-header' }, createButtonElement({ class: 'accordion-button' }, [\n        createImgElement({ src: favicon, class: 'favicon', alt: 'Favicon' }),\n        createSpanElement({ class: 'tab-title' }, [\n            createSpanElement({ class: 'title', html: name }),\n            createSpanElement({ class: 'tab-media-count', html: `(${allCount})` }),\n        ]),\n        createSpanElement({ class: 'tab-toggle' }),\n    ]));\n}\nfunction getYtRestrictionInfo() {\n    return createDivElement({ class: 'yt-info' }, [\n        createSpanElement({\n            html: 'Note: Chrome Web Store does not allow extensions that download videos from YouTube any longer.',\n        }),\n        createElement('a', {\n            href: 'https://developer.chrome.com/docs/webstore/troubleshooting/#prohibited-products',\n            html: 'Chrome policy',\n        }),\n    ]);\n}\nfunction getAccordionBody(items, tabId, tabUuid, restricted) {\n    const body = createDivElement({ class: 'accordion-body' });\n    if (!restricted) {\n        body.append(...items.map(item => {\n            return getGridItem(item, `${tabId}-${tabUuid}-${item.uuid}`);\n        }));\n    }\n    else {\n        body.appendChild(getYtRestrictionInfo());\n        body.classList.add('restricted');\n    }\n    return body;\n}\nfunction getAccordionItem(mediaToDisplayItem) {\n    const { title, uuid, id, favIconUrl, isRestricted } = tabsInfo[mediaToDisplayItem.tabUuid];\n    const expanded = isTabExpanded(uuid);\n    const item = createDivElement({\n        class: ['accordion-item', ...(expanded ? ['active'] : [])],\n    });\n    item.setAttribute('tab-uuid', uuid);\n    const header = getAccordionHeader(favIconUrl, title, mediaToDisplayItem.items.length);\n    const body = getAccordionBody(mediaToDisplayItem.items, id, uuid, isRestricted);\n    item.appendChild(header);\n    item.appendChild(body);\n    return item;\n}\nfunction getAccordionGroup(group) {\n    const groupDiv = createDivElement({\n        class: 'accordion-group',\n        attributes: {\n            'data-tab-subgroup': group.tabId,\n        },\n    });\n    group.data.forEach((mediaToDisplayItem) => {\n        groupDiv.appendChild(getAccordionItem(mediaToDisplayItem));\n    });\n    return groupDiv;\n}\nexport function updateAccordionData(mediaToDisplay) {\n    const accordion = q('.accordion');\n    accordion.innerHTML = '';\n    mediaToDisplay.forEach((group) => {\n        accordion.appendChild(getAccordionGroup(group));\n    });\n}\n","import { updateAccordionData } from './downloader/accordion';\nimport { mediaInTabs, tabExpanded } from './media-in-tabs';\nimport { q } from './utils/dom-functions';\nimport { countAllMedia, getCurrentSection, mapMediaItemToDisplayMediaItem } from './utils/utils';\nexport function getAllMediaToDisplay() {\n    const currentSection = getCurrentSection();\n    const mapFn = (media) => {\n        return media[currentSection].map((item) => {\n            return mapMediaItemToDisplayMediaItem(item, currentSection);\n        });\n    };\n    return mediaInTabs.map(group => {\n        const data = group.elements.map(({ media, tabUuid }) => {\n            const items = mapFn(media);\n            return { tabUuid, items };\n        });\n        return {\n            tabId: group.tabId,\n            data,\n        };\n    });\n}\nexport function displayMedia() {\n    const mediaToDisplay = getAllMediaToDisplay();\n    console.log(mediaToDisplay);\n    updateAccordionData(mediaToDisplay);\n    const countAll = q('.count-all');\n    countAll.innerHTML = countAllMedia(mediaToDisplay).toString();\n}\nexport function setTabExpanded(tabUuid, value) {\n    tabExpanded[tabUuid] = value;\n}\nexport function isTabExpanded(tabUuid) {\n    return tabExpanded[tabUuid];\n}\n","import { downloadUrl } from './chrome-api';\nexport function downloadItem(itemInfo) {\n    downloadUrl(itemInfo.url, itemInfo.alt);\n}\nexport function downloadImages(mediaToDisplay) {\n    const checkedImages = [];\n    for (let i = 0; i < mediaToDisplay.length; i++) {\n        const { data } = mediaToDisplay[i];\n        for (let idx = 0; idx < data.length; idx++) {\n            const { items } = data[idx];\n            for (let _idx = 0; _idx < items.length; _idx++) {\n                if (items[_idx].selected) {\n                    checkedImages.push({\n                        url: items[_idx].src,\n                        alt: items[_idx].alt,\n                    });\n                }\n            }\n        }\n    }\n    checkedImages.forEach(downloadItem);\n}\n","export const mediaTypes = ['image', 'audio', 'video'];\n","import { displayMedia, getAllMediaToDisplay } from '../media-display';\nimport { mediaInTabs } from '../media-in-tabs';\nimport { createTab, setStorageValue } from '../utils/chrome-api';\nimport { hide, q, setDisabled, toggleClass } from '../utils/dom-functions';\nimport { downloadImages } from '../utils/download-functions';\nimport { mapMediaTypeToSectionName } from '../utils/utils';\nimport { mediaTypes } from './media-types';\nfunction changeToggleAllCheckbox(e) {\n    const { checked } = e.target;\n    let allAreChecked = true;\n    let allAreUnchecked = true;\n    const mediaToDisplay = getAllMediaToDisplay();\n    let selectedCount = 0;\n    toggleClass('.grid-item', 'checked', checked);\n    for (let i = 0; i < mediaToDisplay.length; i++) {\n        const { data } = mediaToDisplay[i];\n        for (let idx = 0; idx < data.length; idx++) {\n            const { items } = data[idx];\n            for (let _idx = 0; _idx < items.length; _idx++) {\n                items[_idx].selected = checked;\n                if (items[_idx].selected) {\n                    allAreUnchecked = false;\n                    selectedCount++;\n                }\n                else {\n                    allAreChecked = false;\n                }\n            }\n        }\n    }\n    updateSelectedCountText(selectedCount);\n    const toggle_all_checkbox = q('#toggle_all_checkbox');\n    toggle_all_checkbox.indeterminate = !(allAreChecked || allAreUnchecked);\n    if (allAreChecked) {\n        toggle_all_checkbox.checked = true;\n    }\n    else if (allAreUnchecked) {\n        toggle_all_checkbox.checked = false;\n    }\n}\nfunction onClickItem(target) {\n    const gridItem = target.closest('.grid-item');\n    const itemIndex = gridItem.getAttribute('data-item-idx');\n    const type = gridItem.getAttribute('data-type');\n    const isChecked = gridItem.classList.contains('checked');\n    const newValue = !isChecked;\n    toggleClass(gridItem, 'checked');\n    const [tab_id, tabUuid, itemIdx] = itemIndex.split('-');\n    const currentSection = mapMediaTypeToSectionName(type);\n    const groupIndexInSection = mediaInTabs.findIndex(({ tabId }) => tabId === +tab_id);\n    const tabIndexInSection = mediaInTabs[groupIndexInSection].elements.findIndex(obj => obj.tabUuid === tabUuid);\n    if (tabIndexInSection === -1) {\n        return;\n    }\n    mediaInTabs[groupIndexInSection].elements[tabIndexInSection].media[currentSection][+itemIdx].selected = newValue;\n    let allAreChecked = true;\n    let allAreUnchecked = true;\n    const mediaToDisplay = getAllMediaToDisplay();\n    let selectedCount = 0;\n    console.log(itemIndex, newValue);\n    for (let i = 0; i < mediaToDisplay.length; i++) {\n        const { data } = mediaToDisplay[i];\n        for (let idx = 0; idx < data.length; idx++) {\n            const { items } = data[idx];\n            for (let _idx = 0; _idx < items.length; _idx++) {\n                if (items[_idx].selected) {\n                    allAreUnchecked = false;\n                    selectedCount++;\n                }\n                else {\n                    allAreChecked = false;\n                }\n            }\n        }\n    }\n    updateSelectedCountText(selectedCount);\n    const toggle_all_checkbox = q('#toggle_all_checkbox');\n    toggle_all_checkbox.indeterminate = !(allAreChecked || allAreUnchecked);\n    if (allAreChecked) {\n        toggle_all_checkbox.checked = true;\n    }\n    else if (allAreUnchecked) {\n        toggle_all_checkbox.checked = false;\n    }\n}\nfunction updateSelectedCountText(selectedCount) {\n    q('#download-btn .selected-count').innerHTML = selectedCount > 0\n        ? `(${selectedCount})`\n        : '';\n    setDisabled('#download-btn', !selectedCount);\n}\nfunction selectSection(name) {\n    name = mediaTypes.includes(name) ? name : 'image';\n    toggleClass('.section-buttons button', 'selected', false);\n    toggleClass(`.section-buttons button[data-section=\"${name}\"]`, 'selected', true);\n}\nexport function setDomListeners() {\n    document.body.addEventListener('click', e => {\n        const { target } = e;\n        if (!target) {\n            return;\n        }\n        if (target.closest('#download-btn')) {\n            downloadImages(getAllMediaToDisplay());\n            return;\n        }\n        if (target.closest('.section-buttons button')) {\n            selectSection(target.closest('.section-buttons button').getAttribute('data-section'));\n            displayMedia();\n            return;\n        }\n        if (target.matches('.thumbnail')) {\n            onClickItem(target);\n            return;\n        }\n        if (target.matches('.yt-info a')) {\n            window.open('https://developer.chrome.com/docs/webstore/troubleshooting/#prohibited-products');\n            return;\n        }\n        if (target.matches('.changelog-link')) {\n            setStorageValue({ showChangelogLink: false });\n            createTab({ url: 'views/changelog.html' });\n            hide(target);\n            return;\n        }\n        if (target.closest('.accordion-header')) {\n            const header = target.closest('.accordion-header');\n            toggleClass(header.closest('.accordion-item'), 'active');\n        }\n    });\n    q('#toggle_all_checkbox').addEventListener('change', changeToggleAllCheckbox);\n}\n","import { executeContentScript } from '../utils/chrome-api';\nexport function findMedia(tabId = null) {\n    executeContentScript('/dist/content-script/send_media.bundle.js', tabId);\n}\n","export var MessageEventNameEnum;\n(function (MessageEventNameEnum) {\n    MessageEventNameEnum[\"TAB_CREATED\"] = \"tabCreated\";\n    MessageEventNameEnum[\"TAB_REPLACED\"] = \"tabReplaced\";\n    MessageEventNameEnum[\"TAB_UPDATED\"] = \"tabUpdated\";\n    MessageEventNameEnum[\"TAB_ACTIVATED\"] = \"tabActivated\";\n    MessageEventNameEnum[\"SEND_MEDIA\"] = \"sendMedia\";\n})(MessageEventNameEnum || (MessageEventNameEnum = {}));\n","const restrictedUrls = [\n    'https://youtube.com',\n    'https://www.youtube.com',\n];\nexport function isRestrictedUrl(url) {\n    return restrictedUrls.some(restrictedUrl => url.includes(restrictedUrl));\n}\n","var __awaiter = (this && this.__awaiter) || function (thisArg, _arguments, P, generator) {\n    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }\n    return new (P || (P = Promise))(function (resolve, reject) {\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\n        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\n    });\n};\nimport { displayMedia, setTabExpanded } from '../media-display';\nimport { mediaInTabs, tabsInfo } from '../media-in-tabs';\nimport { MessageEventNameEnum } from '../types/message-event-name.enum';\nimport { getCurrentTab, getTab, onMessage } from '../utils/chrome-api';\nimport { getUuid, uniqueSourceItems } from '../utils/utils';\nimport { isRestrictedUrl } from '../utils/yt-restriction';\nimport { findMedia } from './find-media';\nimport { mediaTypes } from './media-types';\nfunction updateTabInfo(info) {\n    const tabUuid = getUuid(`${info.id}-${info.url}`);\n    tabsInfo[tabUuid] = {\n        id: info.id,\n        favIconUrl: info.favIconUrl,\n        url: info.url,\n        title: info.title,\n        isRestricted: isRestrictedUrl(info.url),\n        uuid: tabUuid,\n    };\n}\nfunction tabCreatedListener(tab) {\n    if (tab.active) {\n        findMedia(tab.id);\n    }\n}\nfunction tabUpdatedListener(tabId, changeInfo, tab) {\n    if (tab.active && changeInfo.status === 'complete') {\n        findMedia(tab.id);\n    }\n}\nfunction tabReplacedListener(tabId) {\n    return __awaiter(this, void 0, void 0, function* () {\n        const tab = yield getTab(tabId);\n        if (!tab) {\n            return;\n        }\n        if (tab.active) {\n            findMedia(tabId);\n        }\n    });\n}\nfunction tabActivatedListener(tabId) {\n    return __awaiter(this, void 0, void 0, function* () {\n        const tab = yield getTab(tabId);\n        if (!tab) {\n            return;\n        }\n        if (tab.active) {\n            findMedia(tabId);\n        }\n    });\n}\nfunction sendMediaListener(data) {\n    return __awaiter(this, void 0, void 0, function* () {\n        if (data.error && Object.keys(data.error).length > 0) {\n            /// error\n            console.log(data);\n            return;\n        }\n        const currentTab = yield getCurrentTab();\n        if (!currentTab) {\n            return;\n        }\n        mediaTypes\n            .filter(name => !!data[name])\n            .forEach(name => {\n            const newMedia = {\n                image: [],\n                video: [],\n                audio: [],\n            };\n            data[name]\n                .filter((item) => !newMedia[name].includes(item));\n            const restricted = isRestrictedUrl(currentTab.url);\n            if (!restricted) {\n                data[name].forEach((item) => newMedia[name].push(item));\n            }\n            const tabUuid = getUuid(`${currentTab.id}-${currentTab.url}`);\n            let existingIndexTabGroup = mediaInTabs.findIndex(({ tabId }) => tabId === currentTab.id);\n            if (existingIndexTabGroup === -1) {\n                mediaInTabs.push({\n                    tabId: currentTab.id,\n                    elements: [],\n                });\n                existingIndexTabGroup = mediaInTabs.length - 1;\n            }\n            const existingIndex = mediaInTabs[existingIndexTabGroup].elements.findIndex(obj => obj.tabUuid === tabUuid);\n            updateTabInfo(currentTab);\n            if (existingIndex === -1) {\n                mediaInTabs[existingIndexTabGroup].elements.push({\n                    media: newMedia,\n                    tabUuid,\n                });\n            }\n            else {\n                const { media } = mediaInTabs[existingIndexTabGroup].elements[existingIndex];\n                mediaTypes.forEach((type) => {\n                    mediaInTabs[existingIndexTabGroup].elements[existingIndex].media[type] = uniqueSourceItems([\n                        ...media[type],\n                        ...newMedia[type],\n                    ]);\n                });\n            }\n            mediaInTabs.forEach(group => {\n                group.elements.forEach(info => setTabExpanded(info.tabUuid, false));\n            });\n            setTabExpanded(tabUuid, true);\n        });\n        displayMedia();\n    });\n}\nexport function setMessageListeners() {\n    onMessage((message) => {\n        const { eventName, data } = message;\n        console.log(eventName, data);\n        switch (eventName) {\n            case MessageEventNameEnum.TAB_UPDATED:\n                tabUpdatedListener(data.tabId, data.changeInfo, data.tab);\n                break;\n            case MessageEventNameEnum.TAB_ACTIVATED:\n                tabActivatedListener(data.tabId);\n                break;\n            case MessageEventNameEnum.TAB_CREATED:\n                tabCreatedListener(data.tab);\n                break;\n            case MessageEventNameEnum.TAB_REPLACED:\n                tabReplacedListener(data.tabId);\n                break;\n            case MessageEventNameEnum.SEND_MEDIA:\n                sendMediaListener(data);\n                break;\n        }\n    });\n}\n","import { getStorageValue } from '../utils/chrome-api';\nimport { show } from '../utils/dom-functions';\nimport { setDomListeners } from './dom-listeners';\nimport { findMedia } from './find-media';\nimport { setMessageListeners } from './message-listeners';\nfunction init() {\n    findMedia();\n    setMessageListeners();\n    setDomListeners();\n    getStorageValue({ showChangelogLink: false }, result => {\n        if (result.showChangelogLink) {\n            show('.changelog-link');\n        }\n    });\n}\ninit();\n"],"names":["__awaiter","thisArg","_arguments","P","generator","Promise","resolve","reject","fulfilled","value","step","next","e","rejected","result","done","then","apply","getCurrentTab","this","_a","_b","queryOptions","active","lastFocusedWindow","tab","chrome","tabs","query","console","log","url","startsWith","_c","getTab","tabId","get","runtime","lastError","error","toggleClass","selector","className","toggleValue","elements","data","els","document","querySelectorAll","forEach","el","push","qAll","Array","isArray","length","element","classList","contains","remove","add","createElement","tagName","props","children","class","html","innerHTML","attributes","attr","Object","entries","setAttribute","type","title","alt","src","HTMLElement","append","createDivElement","createSpanElement","createButtonElement","createImgElement","createIconElement","name","size","q","querySelector","mediaInTabs","tabExpanded","tabsInfo","crcTable","c","table","n","k","getUuid","val","str","crc","i","charCodeAt","crc32","toString","padStart","getThumbnailContainer","getGridItem","item","itemIndex","poster","selected","filetype","gridItem","btn","anchor","href","download","details","thumbnail","thumbnailDiv","imgElement","appendChild","getImageThumbnail","icon","audio","getAudioThumbnail","imagePoster","videoElement","getVideoThumbnail","imgEl","addEventListener","naturalWidth","naturalHeight","closest","audioEl","duration","seconds","sec","Math","floor","min","hrs","secStr","minStr","formatTime","videoEl","quality","width","videoWidth","loadThumbnail","observer","MutationObserver","mutationsList","mutation","dimensionsDiv","getAttribute","height","textContent","disconnect","updateDetails","observe","attributeFilter","getAccordionItem","mediaToDisplayItem","uuid","id","favIconUrl","isRestricted","tabUuid","header","favicon","allCount","items","body","restricted","map","getAccordionBody","getAllMediaToDisplay","currentSection","group","media","itemType","mapMediaItemToDisplayMediaItem","mapFn","displayMedia","mediaToDisplay","accordion","groupDiv","getAccordionGroup","updateAccordionData","reduce","total","mediaGroup","_total","countAllMedia","setTabExpanded","downloadItem","itemInfo","filename","downloadOptions","downloads","downloadUrl","mediaTypes","changeToggleAllCheckbox","checked","target","allAreChecked","allAreUnchecked","selectedCount","idx","_idx","updateSelectedCountText","toggle_all_checkbox","indeterminate","disabled","findMedia","scriptUrl_1","arguments","scriptUrl","scripting","executeScript","allFrames","files","executeContentScript","MessageEventNameEnum","restrictedUrls","isRestrictedUrl","some","restrictedUrl","includes","obj","callback","message","eventName","TAB_UPDATED","changeInfo","status","TAB_ACTIVATED","tabActivatedListener","TAB_CREATED","tabCreatedListener","TAB_REPLACED","tabReplacedListener","SEND_MEDIA","keys","currentTab","filter","newMedia","image","video","existingIndexTabGroup","findIndex","existingIndex","info","updateTabInfo","arr","Map","values","sendMediaListener","onMessage","addListener","setMessageListeners","checkedImages","downloadImages","matches","newValue","tab_id","itemIdx","split","mapMediaTypeToSectionName","groupIndexInSection","tabIndexInSection","onClickItem","window","open","showChangelogLink","storage","sync","set","create","hidden","hide","show"],"sourceRoot":""}